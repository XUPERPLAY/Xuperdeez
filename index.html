<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Deezer Real - Cat√°logo Completo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    body { margin: 0; font-family: 'Circular', -apple-system, BlinkMacSystemFont, sans-serif; background: #121212; color: white; }
    
    .header { background: linear-gradient(#FF5500, #121212); padding: 20px; display: flex; gap: 20px; align-items: center; position: sticky; top: 0; z-index: 100; }
    .logo { font-size: 24px; font-weight: bold; }
    .search-box { flex: 1; position: relative; }
    .search-input { width: 100%; padding: 12px 20px; border: none; border-radius: 20px; background: #181818; color: white; }
    
    .sidebar { width: 220px; background: #000; height: calc(100vh - 70px); position: fixed; top: 70px; padding: 20px; }
    .nav-item { display: block; padding: 12px; color: #b3b3b3; text-decoration: none; margin-bottom: 5px; border-radius: 5px; transition: 0.3s; cursor: pointer; }
    .nav-item:hover, .nav-item.active { background: #181818; color: white; }
    
    .content { margin-left: 220px; padding: 20px; }
    .section-title { font-size: 28px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
    
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
    .track { background: #181818; padding: 15px; border-radius: 8px; cursor: pointer; transition: 0.3s; position: relative; }
    .track:hover { background: #282828; transform: translateY(-2px); }
    .track img { width: 100%; aspect-ratio: 1; border-radius: 4px; margin-bottom: 10px; }
    .track h4 { font-size: 14px; margin-bottom: 4px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .track p { font-size: 12px; color: #b3b3b3; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    
    .player-container { margin: 20px 0; }
    .deezer-widget { width: 100%; height: 350px; border: none; border-radius: 8px; }
    
    .loading { text-align: center; padding: 40px; }
    .loading i { font-size: 40px; color: #FF5500; }
    
    @media (max-width: 768px) {
      .sidebar { display: none; }
      .content { margin-left: 0; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <div class="header">
    <div class="logo"><i class="fab fa-deezer"></i> Deezer Real</div>
    <input type="text" class="search-input" id="search" placeholder="Buscar..." onkeyup="searchDeezer(event)">
  </div>

  <!-- Sidebar -->
  <div class="sidebar">
    <div class="nav-item active" onclick="loadChart()"><i class="fas fa-fire"></i> Top Global</div>
    <div class="nav-item" onclick="loadNew()"><i class="fas fa-plus"></i> Novedades</div>
    <div class="nav-item" onclick="loadGenres()"><i class="fas fa-music"></i> G√©neros</div>
    <div class="nav-item" onclick="loadRadios()"><i class="fas fa-radio"></i> Radios</div>
  </div>

  <!-- Contenido -->
  <div class="content">
    <h2 class="section-title" id="sectionTitle">Cat√°logo Completo</h2>
    
    <!-- Reproductor Deezer Widget -->
    <div class="player-container">
      <iframe id="deezerWidget" src="https://widget.deezer.com/widget/dark/track/3135556" class="deezer-widget"></iframe>
    </div>

    <div class="grid" id="library"></div>
  </div>

  <script>
    // üéØ Cargar contenido real de Deezer
    async function loadChart() {
      document.getElementById('sectionTitle').innerHTML = 'Top Global';
      const res = await fetch('https://api.deezer.com/chart/0/tracks?limit=100');
      const data = await res.json();
      renderLibrary(data.data);
    }

    async function loadNew() {
      document.getElementById('sectionTitle').innerHTML = 'Novedades';
      const res = await fetch('https://api.deezer.com/album/new?limit=100');
      const data = await res.json();
      renderLibrary(data.data);
    }

    async function loadGenres() {
      document.getElementById('sectionTitle').innerHTML = 'G√©neros';
      const res = await fetch('https://api.deezer.com/genre');
      const data = await res.json();
      renderLibrary(data.data);
    }

    async function loadRadios() {
      document.getElementById('sectionTitle').innerHTML = 'Radios';
      const res = await fetch('https://api.deezer.com/radio');
      const data = await res.json();
      renderLibrary(data.data);
    }

    async function searchDeezer(event) {
      if (event.key !== 'Enter') return;
      const query = document.getElementById('search').value;
      const res = await fetch(`https://api.deezer.com/search?q=${encodeURIComponent(query)}&limit=100`);
      const data = await res.json();
      renderLibrary(data.data);
    }

    // üé® Renderizar con enlaces a Deezer
    function renderLibrary(items) {
      document.getElementById('library').innerHTML = items.map(item => `
        <div class="track" onclick="openInDeezer('${item.type}', '${item.id}')">
          <img src="${item.album?.cover_medium || item.cover_medium || item.picture_medium}" alt="${item.title || item.name}">
          <h4>${item.title || item.name}</h4>
          <p>${item.artist?.name || 'Deezer'}</p>
        </div>
      `).join('');
    }

    // üéµ Abrir en Deezer (canci√≥n completa)
    function openInDeezer(type, id) {
      const urls = {
        track: `https://www.deezer.com/track/${id}`,
        album: `https://www.deezer.com/album/${id}`,
        artist: `https://www.deezer.com/artist/${id}`,
        radio: `https://www.deezer.com/radio/${id}`
      };
      
      // Abrir en nueva pesta√±a con reproducci√≥n completa
      window.open(urls[type] || urls.track, '_blank');
      
      // Actualizar widget
      const widget = document.getElementById('deezerWidget');
      widget.src = `https://widget.deezer.com/widget/dark/${type}/${id}`;
    }

    // üöÄ Inicializaci√≥n
    loadChart();
  </script>
</body>
</html>
